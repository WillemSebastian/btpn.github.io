(this.webpackJsonpbtpn=this.webpackJsonpbtpn||[]).push([[0],{66:function(e,t,a){e.exports=a(78)},71:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),l=(a(71),a(17)),o=a.n(l),i=a(29),u=a(34),p=a(22),d=a(52),m=a(53),h=a(57),f=a(18),g=a(126),A=a(129),E=a(134),C=a(131),v=a(130),O=a(141),b=a(32),S=a(132),k=a(56),y=a.n(k),M=a(55),j=a.n(M),x=a(133),N=a(136),F=a(140),w=a(127),L=a(124),W=a(123),T=a(128);function D(e){var t=c.a.useState("edit"===e.status?e.data.firstName:""),a=Object(f.a)(t,2),n=a[0],r=a[1],s=c.a.useState("edit"===e.status?e.data.lastName:""),l=Object(f.a)(s,2),u=l[0],p=l[1],d=c.a.useState("edit"===e.status?e.data.age:""),m=Object(f.a)(d,2),h=m[0],g=m[1],A=c.a.useState("edit"===e.status?e.data.photo:""),E=Object(f.a)(A,2),C=E[0],v=E[1],O=function(){var t=Object(i.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={firstName:n,lastName:u,age:h,photo:C},"add"!==e.status){t.next=9;break}return"https://simple-contact-crud.herokuapp.com/contact",t.next=5,fetch("https://simple-contact-crud.herokuapp.com/contact",{mode:"no-cors",method:"POST",body:JSON.stringify(a)});case 5:201===t.sent.status?(e.setAlertMessage("Success create contact"),e.openSuccessAlert(),e.getContact()):(e.setAlertMessage("Fail create contact"),e.openFailAlert()),t.next=14;break;case 9:return c="https://simple-contact-crud.herokuapp.com/contact/"+e.data.id,t.next=12,fetch(c,{method:"PUT",body:JSON.stringify(a)});case 12:201===t.sent.status?(e.setAlertMessage("Success edit contact"),e.openSuccessAlert(),e.getContact()):(e.setAlertMessage("Fail edit contact"),e.openFailAlert());case 14:e.handleClose();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(F.a,{open:e.isModalOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(W.a,{id:"form-dialog-title"},"Add Contact"),c.a.createElement(L.a,null,c.a.createElement(N.a,{autoFocus:!0,margin:"dense",id:"firstName",label:"First Name",type:"text",fullWidth:!0,onChange:function(e){return r(e.target.value)},value:n}),c.a.createElement(N.a,{margin:"dense",id:"lastName",label:"Last Name",type:"text",fullWidth:!0,onChange:function(e){return p(e.target.value)},value:u}),c.a.createElement(N.a,{margin:"dense",id:"age",label:"Age",type:"number",fullWidth:!0,onChange:function(e){return g(e.target.value)},value:h}),c.a.createElement(N.a,{margin:"dense",id:"photo",label:"Photo",type:"text",fullWidth:!0,onChange:function(e){return v(e.target.value)},value:C})),c.a.createElement(w.a,null,c.a.createElement(T.a,{onClick:O,color:"primary"},"Submit"),c.a.createElement(T.a,{onClick:e.handleClose,color:"primary"},"Cancel")))}var J=function(e){var t=c.a.useState(!1),a=Object(f.a)(t,2),n=a[0],r=a[1],s=function(){r(!0)};function l(){return(l=Object(i.a)(o.a.mark((function t(){var a,n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://simple-contact-crud.herokuapp.com/contact/"+e.item.id,t.next=3,fetch(a,{method:"DELETE",header:{Accept:"Application/json",ContentType:"Application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,201===n.status?(e.setAlertMessage("Success delete contact"),e.openSuccessAlert(),e.getContact()):(e.setAlertMessage(c.message),e.openFailAlert());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c.a.createElement(g.a,null,c.a.createElement(A.a,{alignItems:"flex-start"},c.a.createElement(v.a,null,c.a.createElement(O.a,{alt:"Remy Sharp",src:e.item.photo})),c.a.createElement(C.a,{primary:e.item.firstName+" "+e.item.lastName,secondary:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{component:"span",variant:"body2",color:"textPrimary"},"Age: ",e.item.age))}),c.a.createElement(S.a,null,c.a.createElement(x.a,{edge:"end","aria-label":"delete",onClick:function(){return s()}},c.a.createElement(j.a,null)),c.a.createElement(x.a,{edge:"end","aria-label":"delete",onClick:function(){return function(){return l.apply(this,arguments)}()}},c.a.createElement(y.a,null)))),c.a.createElement(E.a,{variant:"inset",component:"li"}),c.a.createElement(D,{handleClose:function(){r(!1)},handleClickOpen:s,isModalOpen:n,openSuccessAlert:e.openSuccessAlert,openFailAlert:e.openFailAlert,setAlertMessage:e.setAlertMessage,getContact:e.getContact,status:"edit",data:e.item}))},P=a(135),B=a(139),H=a(137);function I(e){return c.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))}var z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.getContact()},a.handleClickOpen=function(){a.setState({isModalOpen:!0})},a.handleClose=function(){a.setState({isModalOpen:!1})},a.setAlertMessage=function(e){a.setState({alertMessage:e})},a.openSuccessAlert=function(){a.setState({successAlertOpen:!0})},a.openFailAlert=function(){a.setState({failAlertOpen:!0})},a.getContact=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://simple-contact-crud.herokuapp.com/contact",e.next=3,fetch("https://simple-contact-crud.herokuapp.com/contact",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a.setState({data:n.data});case 8:case"end":return e.stop()}}),e)}))),a.renderContactList=function(){return a.state.data.length?a.state.data.map((function(e){return c.a.createElement(J,{item:e,key:e.id,openSuccessAlert:a.openSuccessAlert,openFailAlert:a.openFailAlert,setAlertMessage:a.setAlertMessage,getContact:a.getContact})})):null},a.state={data:[],isModalOpen:!1,successAlertOpen:!1,alertMessage:"true",failAlertOpen:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"headerContactList"},c.a.createElement("div",null,"\xa0"),c.a.createElement("div",null,"Contact List"),c.a.createElement(P.a,{style:{fontSize:30,cursor:"pointer"},onClick:this.handleClickOpen},"add_circle")),c.a.createElement("div",{className:"contactCard"},this.renderContactList())),c.a.createElement(D,{handleClose:this.handleClose,handleClickOpen:this.handleClickOpen,isModalOpen:this.state.isModalOpen,status:"add",openSuccessAlert:this.openSuccessAlert,openFailAlert:this.openFailAlert,setAlertMessage:this.setAlertMessage,getContact:this.getContact}),c.a.createElement(B.a,{open:this.state.successAlertOpen,autoHideDuration:3e3},c.a.createElement(I,{severity:"success"},this.state.alertMessage)),c.a.createElement(B.a,{open:this.state.failAlertOpen,autoHideDuration:3e3},c.a.createElement(I,{severity:"error"},this.state.alertMessage)))}}]),t}(c.a.Component);a(77);var G=function(){return c.a.createElement("div",{className:"App background"},c.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.728727a9.chunk.js.map